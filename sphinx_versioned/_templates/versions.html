<div class="injected">
  <div class="rst-versions {{ 'rst-badge' if floating_badge }}" data-toggle="rst-versions" role="note"
    aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book">&nbsp;&nbsp;Other versions&nbsp;&nbsp;</span>
      v: {{ current_version }}
      <span class="fa fa-caret-down"></span>
    </span>
    <div id="rst-other-versions"></div>
    <script>
      fetch("{{ relpath }}versions_picker.html")
        .then(response => response.text())
        .then(html => {
          const container = document.getElementById('rst-other-versions');
          container.innerHTML = html;
          const versionRoot = new URL("{{ relpath }}", window.location.href);
          for (const a of container.querySelectorAll('a[version-directory-name]')) {
            const versionId = a.getAttribute('version-directory-name');
            const target = new URL(`../${versionId}/index.html`, versionRoot);
            a.href = target.toString();
          }
        })
        .catch(err => console.error('Could not load version picker:', err));
    </script>
  </div>
</div>
</div>